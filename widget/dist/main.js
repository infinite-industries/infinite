!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){n(2),e.exports=n(1)},function(e,t,n){},function(e,t,n){"use strict";n.r(t);const i=["local","staging","production"],r={local:{API:"http://localhost:3003",SITE:"http://localhost:7779"},staging:{API:"https://staging-api.infinite.industries",SITE:"https://staging.infinite.industries"},production:{API:"https://api.infinite.industries",SITE:"https://infinite.industries"}},a="undefined"!=typeof DEFAULT_ENV?DEFAULT_ENV:"production",s=document.querySelector("#infinite-widget"),c=function(){let e=s?s.getAttribute("data-mode"):null;e?(e=e.toLowerCase(),i.includes(e)||(e=a)):e=a;return e}();class o{static getContainer(){return s}static getContainerAttr(e){return s.getAttribute(e)}static getSiteUrl(){return r[c].SITE}static getApiUrl(){return r[c].API}}class d{static returnMinutes(e){return new Date(e).getMinutes()}static returnHourMinutesAMPM(e){const t=new Date(e);let n=t.getHours(),i=t.getMinutes().toString();return i.length<2&&(i="0"+i),0==n?"12:"+i+"am":n<12?n.toString()+":"+i+"am":12==n?"12:"+i+"pm":(n-12).toString()+":"+i+"pm"}static returnDate(e){return new Date(e).getDate()}static returnMonth(e){let t=null;switch(new Date(e).getMonth()){case 0:t="January";break;case 1:t="February";break;case 2:t="March";break;case 3:t="April";break;case 4:t="May";break;case 5:t="June";break;case 6:t="July";break;case 7:t="August";break;case 8:t="September";break;case 9:t="October";break;case 10:t="November";break;case 11:t="December"}return t}static returnDay(e){let t=null;switch(new Date(e).getDay()){case 0:t="Sunday";break;case 1:t="Monday";break;case 2:t="Tuesday";break;case 3:t="Wednesday";break;case 4:t="Thursday";break;case 5:t="Friday";break;case 6:t="Saturday"}return t}}const u=120,l=function(e){return e.length>35&&(e=e.slice(0,35)+"..."),e};function f(e,t,n,i){const r=document.createElement("div");return r.setAttribute("id","infinite-widget-content"),e.appendChild(r),t.slice(n*i,n*i+n).forEach(e=>{console.log("\n-----------\n"+JSON.stringify(e)),r.insertAdjacentHTML("beforeend",function(e){let t=e.brief_description.slice(0,u)+"...",n=d.returnDay(e.date_times[0].start_time),i=d.returnMonth(e.date_times[0].start_time),r=d.returnDate(e.date_times[0].start_time),a=d.returnHourMinutesAMPM(e.date_times[0].start_time),s=d.returnHourMinutesAMPM(e.date_times[0].end_time),c=l(e.venue.name);return`\n    <div class="infinite-card">\n        <div class="infinite-image-and-text-container">\n            <div class="infinite-image-container">\n                <div class="image-surface"></div>\n            </div>\n\n            <div class="infinite-title-container">\n                <h3 class="infinite-card-title">${e.title}</h3>\n            </div>\n\n            <div class="infinite-venue-container">\n                <div>\n                    <h4>\n                        <svg width="20px" height="20px" viewBox="0 0 3.8674 5.5" x="0px" y="0px">\n                            <g :fill="iconColor"><path d="M1.9337 0.0001c1.068,0 1.9337,0.8656 1.9337,1.9336 0,0.7798 -0.7354,1.7041 -1.142,2.4084 -0.2639,0.4571 -0.5279,0.914 -0.7917,1.3711 -0.2638,-0.4571 -0.5278,-0.914 -0.7917,-1.3711 -0.4066,-0.7043 -1.142,-1.6286 -1.142,-2.4084 0,-1.068 0.8657,-1.9336 1.9337,-1.9336zm0 1.1518c0.4319,0 0.7818,0.3499 0.7818,0.7818 0,0.4319 -0.3499,0.7819 -0.7818,0.7819 -0.4319,0 -0.7818,-0.35 -0.7818,-0.7819 0,-0.4319 0.3499,-0.7818 0.7818,-0.7818z" /></g>\n                        </svg>\n                    </h4>\n                </div>\n                <div class="venue-name">\n                    <h4>\n                        ${c}\n                    </h4>\n                </div>\n            </div>\n\n            <div class="infinite-time-container">\n                <p class="date">${n}, ${i} ${r}</p>\n                <p class="time">${a} - ${s}</p>\n            </div>\n\n            <div class="infinite-description-container">\n                ${t}\n            </div>\n        </div>\n        <div class="infinite-btn-actions-container">\n            <div class="infinite-btn-actions">\n                <a href="${o.getSiteUrl()}/events/${e.id}" target="_new">\n                    <div id="more-info">More Info</div>\n                </a>\n            </div>\n        </div>\n    </div>`}(e)),r.lastChild.querySelector(".infinite-image-container").innerHTML='<a href="'+o.getSiteUrl()+"/events/"+e.id+'" target="_new"><div class="image-surface" style="width:100%;height:150px; background:url('+e.image+') center center / cover no-repeat;cursor:pointer;"></div></a>'}),console.log(i),r}function g(e){return null===e&&(e=""),`\n        <div id="infinite-header">\n            <h2 style="color:white">${e}</h2>\n            <div id="branding">\n                <a href="${o.getSiteUrl()}" target="_new">\n                    powered by Infinite Industries\n                </a>\n            </div>\n        </div>\n    `}document.addEventListener("DOMContentLoaded",()=>{console.log("begin injecting widget content");const e=o.getContainer();if(null!==e){const t=e.getAttribute("data-widget-title");e.innerHTML=null!==t?g(t):g();const n=e.getAttribute("data-cards-per-page");let i=0;const r=document.createElement("div");r.innerHTML='\n    <div class="infinite-loader-container">\n        <div id="infinite-loader"></div>\n    </div>\n    ',e.appendChild(r),console.log("Loading widget content..."),class{static get(e,t){fetch(e).then((function(e){return e.json()})).then((function(e){t(null,e.events)})).catch((function(e){t(e)}))}}.get(`${o.getApiUrl()}/events/current/verified?embed=venue`,(t,a)=>{if(t)e.innerHTML="<h2>Unable to reach the server :(</h2> <p>For the nerds among us, the error output is in the console log.</p>",console.log(t);else{r.remove();const t=document.createElement("div");e.appendChild(t);let s=f(t,a,n,i);if(a.length-n>=0){const r=document.createElement("div");r.setAttribute("id","infinite-widget-pagination");const c=document.createElement("span");c.setAttribute("id","infinite-cards-previous"),c.innerText="previous",r.appendChild(c),c.addEventListener("click",(function(){i--,i<0&&(i=0),s.remove(),s=f(t,a,n,i)}));const o=Math.ceil(a.length/n);for(let e=0;e<o;e++){const i=document.createElement("span");i.setAttribute("class","infinite-cards-page-number"),i.innerText=e+1,r.appendChild(i),i.addEventListener("click",(function(){s.remove(),s=f(t,a,n,e)}))}const d=document.createElement("span");d.setAttribute("id","infinite-cards-next"),d.innerText="next",r.appendChild(d),d.addEventListener("click",(function(){i++,i>=o-1&&(i=o-1),s.remove(),s=f(t,a,n,i)})),e.appendChild(r)}}})}else console.log('Please make sure that element with id "infinite-widget" is present in the body of your document.')})}]);